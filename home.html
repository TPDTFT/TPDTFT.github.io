<!DOCTYPE html>
<html>
<title>Defect Report</title>
<link rel="icon" href="img/UM.png">
<meta charset="UTF-8">
<script type="text/javascript" src="http://www.google.com/jsapi"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript" src="js/homeSprint.js"></script>



<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
html,body,h1,h2,h3,h4,h5 {font-family: "Raleway", sans-serif}
</style>
<body class="w3-light-grey" onload="drawGID()" >

<!-- Top container -->
<div class="w3-bar w3-top w3-black w3-large" style="z-index:4">
  <button class="w3-bar-item w3-button w3-hide-large w3-hover-none w3-hover-text-blue" onclick="w3_open();"><i class="fa fa-bars"></i>  Menu</button>
  
  <span class="w3-bar-item "><a href="http://www.prodapt.com/" target="_blank"><img src="img/prodapt-logo.png" style="width:90px"></a></span>
       
  <span class="w3-bar-item w3-right">
  <a   onclick="window.open('PrintPages/PrintHome.html')" style="cursor: pointer;"  ><i class="fa fa-line-chart" style="font-size:25px;color:red;" title='Basic chart'> &nbsp;</i ></a>
  <a   href="https://jira.lgi.io/issues/?filter=63623" target="_blank" title='Jira filter'><i class="fa fa-filter"   style="font-size:25px;color:red;"> &nbsp; </i > </a>
  </span>
	
  </div>

<!-- Sidebar/menu -->
<nav class="w3-sidebar w3-collapse w3-white w3-animate-left" style="z-index:3;width:300px;" id="mySidebar" ><br>
  <div class="w3-container w3-row">
    <div class="w3-col s4">
      <img src="img/LGI_Round.png" class="w3-circle w3-margin-right" style="width:65px">
    </div>
    <div class="w3-col s8 w3-bar">
      <span><strong>TPD TFT DEFECT REPORT</strong></span><br>
      
    </div>
  </div>
  <hr>

  <div class="w3-bar-block" >
    <a href="#" class="w3-bar-item w3-button w3-padding-16 w3-hide-large w3-dark-grey w3-hover-black" onclick="w3_close()" title="close menu"><i class="fa fa-remove fa-fw"></i>  Close Menu</a>
    <a href="home.html" class="w3-bar-item w3-button w3-padding w3-blue" ><i class="fa fa-home fa-fw"></i>  Home</a>
    <a href="at.html" class="w3-bar-item w3-button w3-padding"><i class="fa fa-flag fa-fw"></i>  Austria </a>
    <a href="ie.html" class="w3-bar-item w3-button w3-padding"><i class="fa fa-flag fa-fw"></i>  Ireland</a>
    <a href="nl.html" class="w3-bar-item w3-button w3-padding"><i class="fa fa-flag fa-fw"></i>  Netherlands</a>
    <a href="pl.html" class="w3-bar-item w3-button w3-padding"><i class="fa fa-flag fa-fw"></i>  Poland </a>
    <a href="sk.html" class="w3-bar-item w3-button w3-padding"><i class="fa fa-flag fa-fw"></i>  Slovakia </a>
	<a href="ch.html" class="w3-bar-item w3-button w3-padding"><i class="fa fa-flag fa-fw"></i>  Switzerland</a>
  </div>
</nav>


<!-- Overlay effect when opening sidebar on small screens -->
<div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>

<!-- !PAGE CONTENT! -->
<div class="w3-main" style="margin-left:300px;margin-top:43px;">

  <!-- Header -->
  <header class="w3-container" style="padding-top:22px">
    <h5><b><i class="fa fa-home"></i>  Home</b></h5>
  </header>
 
  <div class="w3-panel">
    <div class="w3-row-padding" style="margin:0 -16px">
      <div class="w3-third">
        <h5>Open Defects</h5>	
	
        <div id="visualization"  ></div>
		
      </div>
      <div class="w3-twothird">
        <h5>Team Members</h5>
        <table class="w3-table w3-striped w3-white">
          <tr>
            <td><i class="fa fa-user w3-text-red w3-large"></i></td>
            <td>Nico</td>
            <td><i>SDIL Team Lead</i></td>
          </tr>
          <tr>
            <td><i class="fa fa-users w3-text-blue w3-large"></i></td>
            <td>DeeJay </td>
            <td><i>SDIL Test Lead</i></td>
          </tr>
          <tr>
            <td><i class="fa fa-users w3-text-blue w3-large"></i></td>
            <td>Manoj</td>
            <td><i>SDIL Test Team</i></td>
          </tr>
          <tr>
            <td><i class="fa fa-users w3-text-blue w3-large"></i></td>
            <td>Poornima</td>
            <td><i>SDIL Test Team</i></td>
          </tr>
          <tr>
            <td><i class="fa fa-users w3-text-blue w3-large"></i></td>
            <td>Padmanaban</td>
            <td><i>SDIL Test Team</i></td>
          </tr>
          
        </table>
      </div>
    </div>
  </div>
  
  <hr>
  <div  class="w3-container" >
  <ul class="w3-ul w3-card-4  " >

      <li class="w3-padding-16 "  >
    <h5><strong>Defects count for all countries</strong></h5>
		
	<div id="Status_Chart" class="barChart " ></div>
	
	<div id="Priority_chart" class="barChart "></div>
	</li>
	</ul>
  </div>

  <hr>

  <div class="w3-container">
    <div class="w3-row-padding" style="margin:9 -16px">
	  <h5><strong>Open defects vs. Priority</strong> <h5>
	 
      <div class="w3-third">
	  		<div  id="AllPie_Chart" style="width: 500px; height: 300px;" > </div>
      </div>
      <div class="w3-twothird">
       		<div  id="ProdaptPie_Chart" style="width: 500px; height: 300px;" > </div>

      </div>
    </div>
  
   
	</div>
  <hr>


 
 <div class="w3-container">
<h5><strong>Sprint report</strong></h5>
    <ul class="w3-ul w3-card-4 ">

      <li class="w3-padding-16">
      Defect report for  <select id="chart" name='select1' onchange="change()">
				<option selected="true" disabled="disabled">Select sprint </option> 
				<option value="Sprint-171">Sprint-171</option> 
				<option value="Sprint-172">Sprint-172</option> 
				<option value="Sprint-173">Sprint-173</option> 
				<option value="Sprint-174">Sprint-174</option> 
				<option value="Sprint-175">Sprint-175</option> 
				<option value="Sprint-176">Sprint-176</option> 
				

			</select>
<div id="chart_div" ></div>
<div id="chart_div2" ></div>
			
      </li>
    </ul>
  </div>
  <hr>
  <div style="text-align:center"> 
	
</div>
  
  <!-- Footer -->
  <footer class="w3-container">
     <h4 class="w3-bottombar w3-border-black"></h4>
	 

  <div style="text-align:center"> 
   <span style="float:left">
      <a onclick="document.getElementById('id01').style.display='block'" style="cursor: pointer;"> <i class="fa fa-envelope" ></i> Contact &nbsp;</a>
   <i class="fa fa-info-circle">  </i><font >  Last updated :  <a id='data'></a>&nbsp;</font> 

   </span>
    <span style="float:right"> <i class="fa fa-copyright">  </i> Designed by SDIl TPD TFT team</span>
	
</div>

<div id="id01" class="w3-modal">
    <div class="w3-modal-content w3-animate-zoom">
  <header class="w3-container w3-black"> 
      <span onclick="document.getElementById('id01').style.display='none'" 
      class="w3-button w3-display-topright">&times;</span>
      <h5><strong>Team contact info </strong></h5>
    </header>

	 <div class="w3-container">
	 <table>
	 <tr>
        <td><strong>Nico </strong></td> <td> <strong> :  </strong></td> <td> nrautenbach@libertyglobal.com </td>
	</tr>
	<tr>
       <td><strong>DeeJay </strong></td> <td><strong> :  </strong></td> <td> dejayagopal.contractor@libertyglobal.com </td>
	</tr>
	<tr>
	<td><strong>Padmanaban </strong></td> <td> <strong> :  </strong></td> <td> pganapathy.contractor@libertyglobal.com</td>
	</tr>
	<tr>
	<td><strong>Poornima </strong></td> <td> <strong> :  </strong></td> <td> poprabakaran.contractor@libertyglobal.com </td>
    </tr>
	<tr>
	<td><strong>Manoj </strong></td> <td> <strong> :  </strong></td> <td> mdevadas.contractor@libertyglobal.com</td>
	</tr>
	
	</table>
	</div>
	<footer class="w3-container w3-black">
	<h5 class="w3-bottombar w3-border-black"></h5>
      </footer>
    </div>
	
  </div>


  </footer>

  <!-- End page content -->
</div>
</body>
<script>

// Get the Sidebar
var mySidebar = document.getElementById("mySidebar");

// Get the DIV with overlay effect
var overlayBg = document.getElementById("myOverlay");

// Toggle between showing and hiding the sidebar, and add overlay effect
function w3_open() {
    if (mySidebar.style.display === 'block') {
        mySidebar.style.display = 'none';
        overlayBg.style.display = "none";
    } else {
        mySidebar.style.display = 'block';
        overlayBg.style.display = "block";
    }
}

// Close the sidebar with the close button
function w3_close() {
    mySidebar.style.display = "none";
    overlayBg.style.display = "none";
}

google.charts.load('current', {packages: ['corechart', 'bar','geochart']});

	google.charts.setOnLoadCallback(drawGID); 
	function drawGID()
		{
				var query = new google.visualization.Query('https://spreadsheets.google.com/tq?key=1WsL07MhF4pWX20EaFUNBx_Aco3sldNIFeGgNNYN3SsE&sheet=Status');
				query.setQuery('SELECT A,B,C ');
				query.send(handleQueryResponse);
				var query1 = new google.visualization.Query('https://spreadsheets.google.com/tq?key=1WsL07MhF4pWX20EaFUNBx_Aco3sldNIFeGgNNYN3SsE&sheet=Priority');
				query1.setQuery('SELECT A,B,C ');
				query1.send(handleQueryResponse2);
				var query2 = new google.visualization.Query('https://spreadsheets.google.com/tq?key=1WsL07MhF4pWX20EaFUNBx_Aco3sldNIFeGgNNYN3SsE&sheet=SP');
				query2.setQuery('SELECT A,B');
				query2.send(handleQueryResponse3);
				var query3 = new google.visualization.Query('https://spreadsheets.google.com/tq?key=1WsL07MhF4pWX20EaFUNBx_Aco3sldNIFeGgNNYN3SsE&sheet=PSP');
				query3.setQuery('SELECT A,B');
				query3.send(handleQueryResponse4);
				var query = new google.visualization.Query('https://spreadsheets.google.com/tq?key=1WsL07MhF4pWX20EaFUNBx_Aco3sldNIFeGgNNYN3SsE&sheet=GEOMAP');
				query.setQuery('SELECT A,B,C ');
				query.send(handleQueryResponse6);
			
		}				
function handleQueryResponse(response) 
		{
				if (response.isError()) 
				{
					alert('Error in query: ' + response.getMessage() + ' ' + response.getDetailedMessage());
					return;
				}
				var data = response.getDataTable();
				var materialOptions = 
				{
					width:900,
                     height:300,
				animation: {
								duration: 1000,
								easing: 'out',
								startup: true
							},	
					 
					
						title : 'Count based on status',
						
					
					
		
					hAxis: 
					{
						title: 'Status',
						minValue: 0,
						
					},
					vAxis: 
					{
						title: 'Defect'	,
						
					},
					backgroundColor: { fill:'transparent' },
					
				};
				
				materialChart = new google.visualization.ColumnChart(document.getElementById('Status_Chart'));
				//materialChart = new google.charts.Bar(document.getElementById('Status_Chart'));
				
				materialChart.draw(data, google.charts.Bar.convertOptions(materialOptions));
  
		}
   
		
			function handleQueryResponse2(response) 
		{

				if (response.isError()) 
				{
					alert('Error in query: ' + response.getMessage() + ' ' + response.getDetailedMessage());
					return;
				}
				var data = response.getDataTable();
				var materialOptions = 
				{
					width:900,
					
                     height:300,
				animation: {
								duration: 1000,
								easing: 'out',
								startup: true
							},	
					
						title: 'Count based on priority',
						
					
		
					hAxis: 
					{
						title: 'Priority',
						minValue: 0,
						
					},
					vAxis: 
					{
						title: 'Defect'	,
						
					
					
					},
	
					backgroundColor:
					{ 
					fill:'transparent',
					//stroke: '#00001a',
					//strokeWidth: 2					
					},
				};
				var materialChart = new google.visualization.SteppedAreaChart(document.getElementById('Priority_chart'));
				//var materialChart = new google.charts.Bar(document.getElementById('Priority_chart'));
				materialChart.draw(data,materialOptions);
				
  
		}
		function handleQueryResponse3(response) 
		{
				if (response.isError()) 
				{
					alert('Error in query: ' + response.getMessage() + ' ' + response.getDetailedMessage());
					return;
				}
				var data = response.getDataTable();
				var options = 
				{
			
					title: 'Overall',
					slices: {0: {color: '#7c0000'}, 1:{color: 'red'}, 2:{color: 'orange'}, 3: {color: 'green'}},
					pieHole: 0.4,
					//is3D: true,
					backgroundColor: {
					fill:'transparent',
					
					},
					
					//legendTextStyle: { color: '#FFF' },
					//titleTextStyle: { color: '#FFF' },
				}
			var chart = new google.visualization.PieChart(document.getElementById('AllPie_Chart'));
			chart.draw(data, options);
  
		}
	 
		
		function handleQueryResponse4(response) 
		{
				if (response.isError()) 
				{
					alert('Error in query: ' + response.getMessage() + ' ' + response.getDetailedMessage());
					return;
				}
				var data = response.getDataTable();
				var options = 
				{
					title: 'Prodapt',
					slices: {0: {color: '#7c0000'}, 1:{color: 'red'}, 2:{color: 'orange'}, 3: {color: 'green'}},

					pieHole: 0.4,
					//is3D: true,
					backgroundColor: { fill:'transparent' },
	
					//legendTextStyle: { color: '#FFF' },
					//titleTextStyle: { color: '#FFF' },
				}
			var chart = new google.visualization.PieChart(document.getElementById('ProdaptPie_Chart'));
			chart.draw(data, options);
  
		}
		function handleQueryResponse6(response)
		{
				if (response.isError()) 
				{
					alert('Error in query: ' + response.getMessage() + ' ' + response.getDetailedMessage());
					return;
				}
				var data = response.getDataTable();
      var options = {
		  
        sizeAxis: { minValue: 10, maxValue: 20 },
		backgroundColor: {
					fill:'transparent',
					
					},
        region: '150',
		datalessRegionColor: '#dcefed',
          defaultColor: '#81d4fa',
		  
        colorAxis: {colors: ['orange', 'red']} // orange to blue
      };
	  

       
        var geochart2 = new google.visualization.GeoChart(
          document.getElementById('visualization'));
        geochart2.draw(data,options);
      }
	  
</script>

<script>
// script last update value
  const onDataLoaded = (data) => {
    const e20Content = data.feed.entry.find((entry) => entry.title.$t == 'B1').content.$t
    document.getElementById('data').innerHTML = e20Content
  }
</script>
<script src="https://spreadsheets.google.com/feeds/cells/1WsL07MhF4pWX20EaFUNBx_Aco3sldNIFeGgNNYN3SsE/30/public/basic?alt=json-in-script&callback=onDataLoaded"></script>

</html>
